<!DOCTYPE html>
<html>

<head>
  <title>What to do?</title>
  <link rel="icon" type="icon" href="favicon.png">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <meta charset="UTF-8">
  <meta name="description" content="Find an activity for you to do next here!">
  <meta name="keywords" content="bored, what to do, what should i do, activity,activities">
  <meta name="author" content="Duck404">
</head>

<body>
  <header>
    <div id="logo-container">
      <h1 id="logo-text">What To Do?</h1>
    </div>
    <div id="social-media-icons">
      <a href="https://bmc.link/ducklin404" target="_blank"><img src="icons/bmc.png" alt="Coffee"></a>
      <a href="https://thesilentpond.com" target="_blank"><img src="icons/blog.jpg" alt="The Silent Pond"></a>
      <a href="https://threads.net/ducklin404" target="_blank"><img src="icons/threads.png" alt="Threads"></a>
    </div>
  </header>
  <div id="text-container">
    <h1 id="main-text" class="activity_text">WHAT TO DO?</h1>
    <button id="show-activity-button">Suggest me!</button>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const showActivityButton = document.getElementById('show-activity-button');
      const textContainer = document.getElementById('text-container');
      const mainText = document.getElementById('main-text');

      showActivityButton.addEventListener('click', () => {
        showActivityButton.disabled = true; // Disable the button while fetching data
        showActivityButton.innerHTML = '<span class="loading-spinner"></span>'; // Add the loading spinner

        fetch('https://www.boredapi.com/api/activity')
          .then(response => response.json())
          .then(data => {
            mainText.textContent = data['activity'];
            showActivityButton.disabled = false; // Enable the button
            showActivityButton.innerHTML = 'Suggest me!'; // Restore the button text
          })
          .catch(error => {
            console.error('Error:', error);
            showActivityButton.disabled = false; // Enable the button in case of error
            showActivityButton.innerHTML = 'Suggest me!'; // Restore the button text
          });
      });
    });
  </script>
  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js'
    data-cf-beacon='{"token": "77629a45fc1d4cea85f291b3056a9987"}'></script><!-- End Cloudflare Web Analytics -->
</body>

</html>